<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Quiz Attempt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }
        .test-link {
            display: block;
            padding: 15px;
            margin: 10px 0;
            background: #2C6EAA;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            text-align: center;
        }
        .test-link:hover {
            background: #1e5a94;
        }
        .info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Quiz Attempt</h1>
    
    <div class="info">
        <h3>üìã H∆∞·ªõng d·∫´n test:</h3>
        <p>1. Nh·∫•p v√†o link ƒë·ªÉ test quiz-attempt.html v·ªõi different quizId</p>
        <p>2. M·ªü Developer Console (F12) ƒë·ªÉ xem logs</p>
        <p>3. Ki·ªÉm tra xem c√≥ l·ªói promise n√†o kh√¥ng</p>
        <p>4. Test c√°c function nh∆∞ next/prev/clear answer</p>
    </div>

    <div class="warning">
        <h3>‚ö†Ô∏è L∆∞u √Ω:</h3>
        <p>Quiz c√≥ timer n√™n s·∫Ω t·ª± ƒë·ªông submit sau khi h·∫øt th·ªùi gian!</p>
    </div>

    <h3>üéØ Test Links:</h3>
    
    <a href="quiz-attempt.html?id=quiz1" class="test-link">
        üìù Test Quiz 1 (JavaScript - 2 c√¢u h·ªèi - 30 ph√∫t)
    </a>
    
    <a href="quiz-attempt.html?id=quiz2" class="test-link">
        üé® Test Quiz 2 (UI/UX - 1 c√¢u h·ªèi - 25 ph√∫t)
    </a>
    
    <a href="quiz-attempt.html?id=nonexistent" class="test-link">
        ‚ùå Test Quiz kh√¥ng t·ªìn t·∫°i (Demo fallback)
    </a>
    
    <a href="quiz-attempt.html?id=undefined" class="test-link">
        ‚ö†Ô∏è Test undefined quizId (Fallback quiz)
    </a>
    
    <a href="quiz-attempt.html" class="test-link">
        üîó Test kh√¥ng c√≥ quizId (URL error)
    </a>

    <div class="info">
        <h3>üîç Nh·ªØng g√¨ c·∫ßn ki·ªÉm tra:</h3>
        <ul>
            <li>‚úÖ Quiz header hi·ªÉn th·ªã ƒë√∫ng th√¥ng tin</li>
            <li>‚úÖ Kh√¥ng c√≥ l·ªói Promise</li>
            <li>‚úÖ Navigation grid render ƒë∆∞·ª£c</li>
            <li>‚úÖ Question content hi·ªÉn th·ªã</li>
            <li>‚úÖ Answer options clickable</li>
            <li>‚úÖ Timer ƒë·∫øm ng∆∞·ª£c</li>
            <li>‚úÖ Next/Prev buttons ho·∫°t ƒë·ªông</li>
            <li>‚úÖ Clear answer function</li>
            <li>‚úÖ Flag question function</li>
            <li>‚úÖ Progress indicator</li>
            <li>‚úÖ Console kh√¥ng c√≥ l·ªói</li>
        </ul>
    </div>

    <div class="info">
        <h3>üìö Expected Quiz Content:</h3>
        <ul>
            <li><strong>quiz1:</strong> JavaScript Quiz (2 questions, 30 min)</li>
            <li><strong>quiz2:</strong> UI/UX Quiz (1 question, 25 min)</li>
            <li><strong>Demo Quiz:</strong> Fallback quiz (1 question, 15 min)</li>
            <li><strong>Fallback Quiz:</strong> Error fallback (1 question, 10 min)</li>
        </ul>
    </div>

    <div class="info">
        <h3>üéÆ Test Scenarios:</h3>
        <ol>
            <li><strong>Normal Flow:</strong> Answer questions ‚Üí Submit</li>
            <li><strong>Navigation:</strong> Jump between questions using grid</li>
            <li><strong>Flag Questions:</strong> Mark questions for review</li>
            <li><strong>Clear Answers:</strong> Remove selected answers</li>
            <li><strong>Time Management:</strong> Watch timer countdown</li>
            <li><strong>Auto-save:</strong> Answers should save automatically</li>
        </ol>
    </div>

    <script>
        // Setup mock user data for testing
        const mockUser = {
            id: 'user1',
            username: 'testuser',
            fullName: 'Test User', 
            email: 'test@example.com',
            role: 'student',
            progress: {
                courses: [
                    {
                        courseId: 'course1',
                        courseName: 'L·∫≠p tr√¨nh JavaScript',
                        enrolledAt: new Date().toISOString(),
                        completed: 75,
                        lessonsCompleted: ['js1', 'js2']
                    }
                ],
                quizzes: []
            }
        };

        // Save mock user to localStorage
        localStorage.setItem('currentUser', JSON.stringify(mockUser));
        
        console.log('‚úÖ Mock user data saved to localStorage');
        console.log('Current user:', mockUser);
        
        // Also ensure course and quiz data exist
        if (!localStorage.getItem('courses')) {
            const mockCourses = [
                {
                    courseId: 'course1',
                    title: 'L·∫≠p tr√¨nh JavaScript c∆° b·∫£n',
                    description: 'H·ªçc JavaScript t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao'
                },
                {
                    courseId: 'course2',
                    title: 'Thi·∫øt k·∫ø UI/UX',
                    description: 'H·ªçc thi·∫øt k·∫ø giao di·ªán ng∆∞·ªùi d√πng'
                }
            ];
            localStorage.setItem('courses', JSON.stringify(mockCourses));
            console.log('‚úÖ Mock course data saved');
        }
    </script>
</body>
</html> 
